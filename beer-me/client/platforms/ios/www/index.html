<!DOCTYPE html>
<html ng-app="beerme">

  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="initial-scale=1, maximum-scale=1, user-scalable=no, width=device-width">
    <title></title>
    <link href="lib/ionic/css/ionic.css" rel="stylesheet">
    <link href="css/style.css" rel="stylesheet">
    <!-- IF using Sass (run gulp sass first), then uncomment below and remove the CSS includes above
    <link href="css/ionic.app.css" rel="stylesheet">
    -->
    <!-- ionic/angularjs js -->
    <script src="lib/ionic/js/ionic.bundle.js"></script>
    <!-- cordova script (this will be a 404 during development) -->
    <script src="cordova.js"></script>
    <!-- your app's js -->
    <script src="js/app.js"></script>
    <script src="js/angular-ui-router.js"></script>
    <script src="js/angular-ui-router.min.js"></script>
    <script type="text/javascript" src="http://maps.google.com/maps/api/js?key=AIzaSyDCHnqpjDoIiBws0zjQE8gKUAQb4rguVx0&sensor=false"></script>
  </head>


  <body ng-controller="MapCtrl" class="platform-ios platform-cordova platform-webview">

    <ion-nav-view></ion-nav-view>

    <script id="templates/home.html" type="text/ng-template">
      <ion-view view-title="Landing Page">
        <ion-content class="landing-page">
          <img ng-click='getLocation()' class="bar-button" src="../img/beerMeCoaster.jpg">
          <button class="zipcode-beer button" ng-click="zipcodePop()">
            Find Beer by Zipcode
          </button>
        </ion-content>
      </ion-view>
    </script>

    <script id="templates/beers.html" type="text/ng-template">

      <ion-view view-title='<img src="../img/beermepic.png">  <img src="../img/beermetext.png">'>
        <ion-nav-bar class="bar-energized">
          <ion-nav-back-button class="button-icon ion-arrow-left-c">
          </ion-nav-back-button>
          <ion-nav-buttons side="right">
            <a class="button button-icon icon ion-information-circled"></a>
          </ion-nav-buttons> 
        </ion-nav-bar>

        <ion-content class="padding"
             start-y="55"
             padding="false"
             has-tabs="true"
             has-header="true">

        <div ng-if='beers != 0'>
          <div id="search-box" class="bar bar-header item-input-inset">
            <div class="item-input-wrapper">
              <i class="icon ion-ios7-search placeholder-icon"></i>
              <input type="search" placeholder="Search for a Beer" ng-model="data.searchQuery">
            </div>
          </div>

          <ion-list>
            <div class="item item-divider beer-list-title">
              <b>Beers on tap in {{zipCode}}</b>
            </div>
            <ion-item ng-repeat="beer in beers | filter: data.searchQuery" class="item item-thumbnail-left" ng-click="showBeerPage({{beer}})">
              <img src="{{beer.image}}" >
              <h3>{{beer.name}}</h3>
              <p>Rarity: {{beer.rank}}</p>
            </ion-item>
          </ion-list>
        </div>

        <div ng-if='beers.length == 0'>
          <h2><b>Sorry!</b></h2>
          <p>We currently do not have any listed beers for that location! Please press back and try a different zipcode. Thank you</p>
        </div>

        </ion-content>
      </ion-view>

    </script>

    <script id="templates/beer.html" type="text/ng-template" ng-controller="MapCtrl as beerObject">
      
      <ion-view view-title='<img src="../img/beermepic.png">  <img src="../img/beermetext.png">'>
        <ion-nav-bar class="bar-energized">
          <ion-nav-back-button class="button-icon ion-arrow-left-c">
          </ion-nav-back-button>
        </ion-nav-bar>
        <ion-content class="padding">

          <div class="list card">
            <div class="item item-avatar">
              <img src="{{beerObject.image}}">
              <h2>{{beerObject.name}}</h2>
              <p>Rating: {{beerObject.rating}}/100</p>
            </div>

            <div class="item item-body">
              <img class="full-image" src="{{beerObject.image}}">
              <div class="card">
                <div class="item item-text-wrap">
                  <p>{{beerObject.price}}</p>
                  <p>{{beerObject.abv}}</p>
                </div>
               </div>
                <p>Nulla facilisi. Maecenas ultricies enim ligula, a rutrum dui suscipit at. Fusce pellentesque posuere hendrerit. In volutpat quam a massa tincidunt, et dignissim leo vulputate. Donec pellentesque lorem eget condimentum pulvinar. Aenean leo tellus, iaculis ac vulputate non, hendrerit ac dui. Vestibulum ac malesuada nisi, sed sagittis erat. Proin ullamcorper arcu id ex molestie aliquet. Morbi faucibus nibh id lacus feugiat tincidunt. Aliquam consectetur porta euismod. Morbi diam turpis, elementum eu velit ut, consequat luctus urna.
                </p>
            </div>

          <ion-list>
            <div class="item item-divider beer-list-title">
              <b>Served at:</b>
            </div>
            <ion-item ng-repeat="bar in beerBars" class="item item-button-right" >

              <p>{{bar.name}}</p>
              <p>{{bar.address}} {{bar.zip_code}}</p>

            </ion-item>
          </ion-list>

          </div>

        </ion-content>
      </ion-view>
    </script>

    <script id="templates/tabs.html" type="text/ng-template">
      <ion-tabs class="tabs-icon-top tabs-positive">

        <ion-tab title="Home" icon="ion-home" href="#/tab/home">
          <ion-nav-view name="home-tab"></ion-nav-view>
        </ion-tab>

        <ion-tab title="About" icon="ion-person" ui-sref="tabs.contact">
          <ion-nav-view name="about-tab"></ion-nav-view>
        </ion-tab>

        <ion-tab title="Contact" icon="ion-at" ui-sref="tabs.contact">
          <ion-nav-view name="contact-tab"></ion-nav-view>
        </ion-tab>

      </ion-tabs>
    </script>

  </body>


</html>
